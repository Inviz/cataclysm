<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<canvas id="canvas" width="1500" height="1500"></canvas>
<script src="game.js"></script>
<script src="cdt2d.js"></script>
<script src="../vendor/hull.js"></script>
<script src="geo.js"></script>
<script src="clipper.js"></script>
<script src="martinez.js"></script>
<script src="offset.js"></script>
<script src="geometry.js"></script>
<script src="generator/room.js"></script>
<script src="simulation.js"></script>
<script src="generation.js"></script>
<script src="nets/area.js"></script>
<script src="nets/zone.js"></script>
<script src="nets/creature.js"></script>
<script src="../citygen/assets/js/bundle.js"></script>
<script src="../src/City.js"></script>
<script src="noise.js"></script>
<script src="rbush.js"></script>
<script src="rbush.viz.js"></script>
<script src="navigation.js"></script>
<script src="petri.js"></script>
<script src="demo.js"></script>
<script>

  function Sim() {
    console.time('sim test')
    var state = new Simulation(0, 123)
    state.areas[0] = 10000
    state.areas[1] = 10000
    var states = [];
    for (var x = 0; x < 100; x++) {
      state = state.advance()
      states.push(state);
      if (states.length > 5)
        states.pop()
    }
    state.history = states
    console.timeEnd('sim test')
    return state
  }

  function Gen() {
    console.time('gen test')
    var state = new Generation(0, 123)
    var states = [];
    state = state.advance.apply(state, arguments)
    console.timeEnd('gen test')

    return state
  }
  //console.log(state, Simulation.prototype.Creature)

  //tree.compute()
Game.Life = Sim()
Game.World = Gen(map)
draw()
</script>